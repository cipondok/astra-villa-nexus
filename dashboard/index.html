<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Results Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@3.0.0/index.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <h1>üß™ Test Results Dashboard</h1>
            <div class="nav-links">
                <a href="#overview">Overview</a>
                <a href="#performance">Performance</a>
                <a href="#accessibility">Accessibility</a>
                <a href="#coverage">Coverage</a>
                <a href="#visual">Visual Regression</a>
            </div>
        </div>
    </nav>

    <main class="container">
        <!-- Overview Section -->
        <section id="overview" class="section">
            <h2>üìä Test Overview</h2>
            
            <div class="stats-grid">
                <div class="stat-card success">
                    <div class="stat-icon">‚úÖ</div>
                    <div class="stat-content">
                        <div class="stat-value" id="passing-tests">-</div>
                        <div class="stat-label">Passing Tests</div>
                    </div>
                </div>
                
                <div class="stat-card error">
                    <div class="stat-icon">‚ùå</div>
                    <div class="stat-content">
                        <div class="stat-value" id="failing-tests">-</div>
                        <div class="stat-label">Failing Tests</div>
                    </div>
                </div>
                
                <div class="stat-card info">
                    <div class="stat-icon">‚ö°</div>
                    <div class="stat-content">
                        <div class="stat-value" id="test-duration">-</div>
                        <div class="stat-label">Avg Duration</div>
                    </div>
                </div>
                
                <div class="stat-card warning">
                    <div class="stat-icon">üìà</div>
                    <div class="stat-content">
                        <div class="stat-value" id="success-rate">-</div>
                        <div class="stat-label">Success Rate</div>
                    </div>
                </div>
            </div>

            <div class="chart-container">
                <h3>Test Results Trend (Last 30 Days)</h3>
                <canvas id="testTrendChart"></canvas>
            </div>

            <div class="chart-container">
                <h3>Test Suite Breakdown</h3>
                <canvas id="testBreakdownChart"></canvas>
            </div>
        </section>

        <!-- Performance Section -->
        <section id="performance" class="section">
            <h2>üî¶ Lighthouse Performance</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">‚ö°</div>
                    <div class="stat-content">
                        <div class="stat-value" id="perf-score">-</div>
                        <div class="stat-label">Performance Score</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">üéØ</div>
                    <div class="stat-content">
                        <div class="stat-value" id="lcp-value">-</div>
                        <div class="stat-label">LCP (Largest Contentful Paint)</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">üìê</div>
                    <div class="stat-content">
                        <div class="stat-value" id="cls-value">-</div>
                        <div class="stat-label">CLS (Cumulative Layout Shift)</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">‚è±Ô∏è</div>
                    <div class="stat-content">
                        <div class="stat-value" id="fcp-value">-</div>
                        <div class="stat-label">FCP (First Contentful Paint)</div>
                    </div>
                </div>
            </div>

            <div class="chart-grid">
                <div class="chart-container">
                    <h3>Lighthouse Scores Over Time</h3>
                    <canvas id="lighthouseScoresChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <h3>Core Web Vitals Trends</h3>
                    <canvas id="coreWebVitalsChart"></canvas>
                </div>
            </div>

            <div class="chart-container">
                <h3>Resource Budget Usage</h3>
                <canvas id="resourceBudgetChart"></canvas>
            </div>
        </section>

        <!-- Accessibility Section -->
        <section id="accessibility" class="section">
            <h2>‚ôø Accessibility Audit</h2>
            
            <div class="stats-grid">
                <div class="stat-card success">
                    <div class="stat-icon">‚úì</div>
                    <div class="stat-content">
                        <div class="stat-value" id="a11y-passes">-</div>
                        <div class="stat-label">Checks Passed</div>
                    </div>
                </div>
                
                <div class="stat-card error">
                    <div class="stat-icon">‚úó</div>
                    <div class="stat-content">
                        <div class="stat-value" id="a11y-violations">-</div>
                        <div class="stat-label">Violations</div>
                    </div>
                </div>
                
                <div class="stat-card warning">
                    <div class="stat-icon">‚ö†</div>
                    <div class="stat-content">
                        <div class="stat-value" id="a11y-incomplete">-</div>
                        <div class="stat-label">Incomplete</div>
                    </div>
                </div>
                
                <div class="stat-card info">
                    <div class="stat-icon">üìä</div>
                    <div class="stat-content">
                        <div class="stat-value" id="a11y-score">-</div>
                        <div class="stat-label">Accessibility Score</div>
                    </div>
                </div>
            </div>

            <div class="chart-container">
                <h3>Accessibility Violations by Category</h3>
                <canvas id="a11yViolationsChart"></canvas>
            </div>

            <div class="violations-list" id="violations-list">
                <h3>Recent Violations</h3>
                <div class="loading">Loading violations...</div>
            </div>
        </section>

        <!-- Coverage Section -->
        <section id="coverage" class="section">
            <h2>üìà Code Coverage</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üìÑ</div>
                    <div class="stat-content">
                        <div class="stat-value" id="coverage-lines">-</div>
                        <div class="stat-label">Line Coverage</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">üîÄ</div>
                    <div class="stat-content">
                        <div class="stat-value" id="coverage-branches">-</div>
                        <div class="stat-label">Branch Coverage</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">‚ö°</div>
                    <div class="stat-content">
                        <div class="stat-value" id="coverage-functions">-</div>
                        <div class="stat-label">Function Coverage</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">üìù</div>
                    <div class="stat-content">
                        <div class="stat-value" id="coverage-statements">-</div>
                        <div class="stat-label">Statement Coverage</div>
                    </div>
                </div>
            </div>

            <div class="chart-container">
                <h3>Coverage Trends</h3>
                <canvas id="coverageTrendChart"></canvas>
            </div>

            <div class="chart-container">
                <h3>Coverage by File</h3>
                <canvas id="coverageByFileChart"></canvas>
            </div>
        </section>

        <!-- Visual Regression Section -->
        <section id="visual" class="section">
            <h2>üëÅÔ∏è Visual Regression</h2>
            
            <div class="stats-grid">
                <div class="stat-card success">
                    <div class="stat-icon">‚úì</div>
                    <div class="stat-content">
                        <div class="stat-value" id="visual-passed">-</div>
                        <div class="stat-label">Snapshots Passed</div>
                    </div>
                </div>
                
                <div class="stat-card error">
                    <div class="stat-icon">‚úó</div>
                    <div class="stat-content">
                        <div class="stat-value" id="visual-failed">-</div>
                        <div class="stat-label">Snapshots Failed</div>
                    </div>
                </div>
                
                <div class="stat-card info">
                    <div class="stat-icon">üì∏</div>
                    <div class="stat-content">
                        <div class="stat-value" id="visual-total">-</div>
                        <div class="stat-label">Total Snapshots</div>
                    </div>
                </div>
                
                <div class="stat-card warning">
                    <div class="stat-icon">‚ö†Ô∏è</div>
                    <div class="stat-content">
                        <div class="stat-value" id="visual-diff">-</div>
                        <div class="stat-label">Avg Diff Pixels</div>
                    </div>
                </div>
            </div>

            <div class="chart-container">
                <h3>Visual Regression History</h3>
                <canvas id="visualRegressionChart"></canvas>
            </div>

            <div class="diff-gallery" id="diff-gallery">
                <h3>Recent Visual Differences</h3>
                <div class="loading">Loading visual diffs...</div>
            </div>
        </section>

        <!-- Build Size Section -->
        <section id="build" class="section">
            <h2>üì¶ Build Size Analysis</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üì¶</div>
                    <div class="stat-content">
                        <div class="stat-value" id="build-size">-</div>
                        <div class="stat-label">Total Build Size</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">üìú</div>
                    <div class="stat-content">
                        <div class="stat-value" id="js-size">-</div>
                        <div class="stat-label">JavaScript</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">üé®</div>
                    <div class="stat-content">
                        <div class="stat-value" id="css-size">-</div>
                        <div class="stat-label">CSS</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">üñºÔ∏è</div>
                    <div class="stat-content">
                        <div class="stat-value" id="assets-size">-</div>
                        <div class="stat-label">Assets</div>
                    </div>
                </div>
            </div>

            <div class="chart-container">
                <h3>Build Size Over Time</h3>
                <canvas id="buildSizeChart"></canvas>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <p>Last updated: <span id="last-updated">-</span></p>
            <p>Generated by GitHub Actions</p>
        </div>
    </footer>

    <script src="data-loader.js"></script>
    <script src="charts.js"></script>
    <script src="dashboard.js"></script>
</body>
</html>
